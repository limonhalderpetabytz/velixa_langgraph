<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Engineer Ticket Analytics Report</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body style="margin:0;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif;background:#0f172a;color:#e5e7eb;">
  <div style="max-width:1200px;margin:0 auto;padding:24px;">
    <!-- Header -->
    <header style="display:flex;justify-content:space-between;align-items:center;margin-bottom:24px;">
      <div>
        <h1 style="margin:0;font-size:28px;color:#f9fafb;">Engineer Ticket Analytics Report</h1>
        <p style="margin:4px 0 0;font-size:14px;color:#9ca3af;">Snapshot of current workload and ticket distribution</p>
      </div>
      <div style="text-align:right;">
        <div style="font-size:14px;color:#9ca3af;">Engineer</div>
        <div style="font-size:16px;font-weight:600;color:#f9fafb;">Mh Hasin</div>
        <div style="font-size:13px;color:#9ca3af;margin-top:4px;">Group: <span style="color:#e5e7eb;">N/A (assigned_group not provided)</span></div>
      </div>
    </header>

    <!-- Summary Cards -->
    <section style="display:grid;grid-template-columns:repeat(5,minmax(0,1fr));gap:16px;margin-bottom:28px;">
      <div style="background:linear-gradient(135deg,#1d4ed8,#1e40af);padding:16px;border-radius:12px;box-shadow:0 10px 25px rgba(15,23,42,0.6);">
        <div style="font-size:12px;text-transform:uppercase;letter-spacing:.06em;color:#bfdbfe;margin-bottom:6px;">Total Tickets</div>
        <div style="font-size:24px;font-weight:700;color:#eff6ff;">5</div>
      </div>
      <div style="background:#0b1120;border-radius:12px;padding:16px;border:1px solid #1f2937;">
        <div style="font-size:12px;text-transform:uppercase;letter-spacing:.06em;color:#9ca3af;margin-bottom:6px;">Pending</div>
        <div style="font-size:24px;font-weight:700;color:#fde68a;">5</div>
      </div>
      <div style="background:#0b1120;border-radius:12px;padding:16px;border:1px solid #1f2937;">
        <div style="font-size:12px;text-transform:uppercase;letter-spacing:.06em;color:#9ca3af;margin-bottom:6px;">Solved</div>
        <div style="font-size:24px;font-weight:700;color:#6b7280;">0</div>
      </div>
      <div style="background:#0b1120;border-radius:12px;padding:16px;border:1px solid #1f2937;">
        <div style="font-size:12px;text-transform:uppercase;letter-spacing:.06em;color:#9ca3af;margin-bottom:6px;">Average Priority</div>
        <div style="font-size:24px;font-weight:700;color:#a5b4fc;">2.4</div>
        <div style="font-size:11px;color:#6b7280;margin-top:4px;">(1=Highest, 5=Lowest)</div>
      </div>
      <div style="background:#0b1120;border-radius:12px;padding:16px;border:1px solid #1f2937;">
        <div style="font-size:12px;text-transform:uppercase;letter-spacing:.06em;color:#9ca3af;margin-bottom:6px;">Avg Response Time</div>
        <div style="font-size:20px;font-weight:600;color:#6b7280;">N/A</div>
        <div style="font-size:11px;color:#4b5563;margin-top:4px;">No response time data available</div>
      </div>
    </section>

    <!-- Charts -->
    <section style="display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:20px;margin-bottom:28px;">
      <div style="background:#020617;border-radius:14px;padding:18px 18px 10px;border:1px solid #1f2937;box-shadow:0 18px 45px rgba(0,0,0,0.65);">
        <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:12px;">
          <div>
            <h2 style="margin:0;font-size:16px;color:#e5e7eb;">State Distribution</h2>
            <p style="margin:4px 0 0;font-size:12px;color:#6b7280;">Ticket count by current state</p>
          </div>
        </div>
        <div style="height:260px;">
          <canvas id="stateChart"></canvas>
        </div>
      </div>
      <div style="background:#020617;border-radius:14px;padding:18px 18px 10px;border:1px solid #1f2937;box-shadow:0 18px 45px rgba(0,0,0,0.65);">
        <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:12px;">
          <div>
            <h2 style="margin:0;font-size:16px;color:#e5e7eb;">Priority Distribution</h2>
            <p style="margin:4px 0 0;font-size:12px;color:#6b7280;">Tickets by priority level</p>
          </div>
        </div>
        <div style="height:260px;">
          <canvas id="priorityChart"></canvas>
        </div>
      </div>
    </section>

    <!-- Tickets Table -->
    <section style="background:#020617;border-radius:14px;padding:18px;border:1px solid #1f2937;box-shadow:0 18px 45px rgba(0,0,0,0.65);">
      <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:12px;">
        <div>
          <h2 style="margin:0;font-size:16px;color:#e5e7eb;">Latest Tickets</h2>
          <p style="margin:4px 0 0;font-size:12px;color:#6b7280;">Showing up to 20 most recent tickets</p>
        </div>
        <div style="font-size:12px;color:#9ca3af;">Total: 5</div>
      </div>
      <div style="overflow:auto;border-radius:10px;border:1px solid #111827;">
        <table style="width:100%;border-collapse:collapse;font-size:13px;min-width:700px;">
          <thead style="background:#020617;">
            <tr>
              <th style="text-align:left;padding:10px 12px;color:#9ca3af;border-bottom:1px solid #111827;font-weight:500;">Number</th>
              <th style="text-align:left;padding:10px 12px;color:#9ca3af;border-bottom:1px solid #111827;font-weight:500;">Created On</th>
              <th style="text-align:left;padding:10px 12px;color:#9ca3af;border-bottom:1px solid #111827;font-weight:500;">Caller</th>
              <th style="text-align:left;padding:10px 12px;color:#9ca3af;border-bottom:1px solid #111827;font-weight:500;">Short Description</th>
              <th style="text-align:left;padding:10px 12px;color:#9ca3af;border-bottom:1px solid #111827;font-weight:500;">State</th>
              <th style="text-align:left;padding:10px 12px;color:#9ca3af;border-bottom:1px solid #111827;font-weight:500;">Priority</th>
              <th style="text-align:left;padding:10px 12px;color:#9ca3af;border-bottom:1px solid #111827;font-weight:500;">Assigned To</th>
            </tr>
          </thead>
          <tbody>
            <tr style="background:#020617;">
              <td style="padding:10px 12px;border-bottom:1px solid #111827;color:#e5e7eb;white-space:nowrap;">INC0010008</td>
              <td style="padding:10px 12px;border-bottom:1px solid #111827;color:#9ca3af;white-space:nowrap;">2026-01-18 23:23:16</td>
              <td style="padding:10px 12px;border-bottom:1px solid #111827;color:#e5e7eb;white-space:nowrap;">James Anderson</td>
              <td style="padding:10px 12px;border-bottom:1px solid #111827;color:#d1d5db;">The user reports multiple email-related issues including emails not working, messages bouncing, mailbox capacity being full, and Outlook synchronization failure</td>
              <td style="padding:10px 12px;border-bottom:1px solid #111827;">
                <span style="display:inline-block;padding:3px 8px;border-radius:999px;font-size:11px;background:rgba(56,189,248,0.12);color:#38bdf8;">In Progress</span>
              </td>
              <td style="padding:10px 12px;border-bottom:1px solid #111827;">
                <span style="display:inline-block;padding:3px 8px;border-radius:999px;font-size:11px;background:rgba(248,113,113,0.12);color:#fca5a5;">1 - Critical</span>
              </td>
              <td style="padding:10px 12px;border-bottom:1px solid #111827;color:#e5e7eb;white-space:nowrap;">Mh Hasin</td>
            </tr>
            <tr style="background:#020617;">
              <td style="padding:10px 12px;border-bottom:1px solid #111827;color:#e5e7eb;white-space:nowrap;">INC0010007</td>
              <td style="padding:10px 12px;border-bottom:1px solid #111827;color:#9ca3af;white-space:nowrap;">2026-01-18 23:20:50</td>
              <td style="padding:10px 12px;border-bottom:1px solid #111827;color:#e5e7eb;white-space:nowrap;">James Anderson</td>
              <td style="padding:10px 12px;border-bottom:1px solid #111827;color:#d1d5db;">The user reports the printer is not working, showing as offline, and experiencing driver-related issues, resulting in an inability to print.</td>
              <td style="padding:10px 12px;border-bottom:1px solid #111827;">
                <span style="display:inline-block;padding:3px 8px;border-radius:999px;font-size:11px;background:rgba(56,189,248,0.12);color:#38bdf8;">In Progress</span>
              </td>
              <td style="padding:10px 12px;border-bottom:1px solid #111827;">
                <span style="display:inline-block;padding:3px 8px;border-radius:999px;font-size:11px;background:rgba(252,211,77,0.12);color:#facc15;">3 - Moderate</span>
              </td>
              <td style="padding:10px 12px;border-bottom:1px solid #111827;color:#e5e7eb;white-space:nowrap;">Mh Hasin</td>
            </tr>
            <tr style="background:#020617;">
              <td style="padding:10px 12px;border-bottom:1px solid #111827;color:#e5e7eb;white-space:nowrap;">INC0010006</td>
              <td style="padding:10px 12px;border-bottom:1px solid #111827;color:#9ca3af;white-space:nowrap;">2026-01-18 23:12:54</td>
              <td style="padding:10px 12px;border-bottom:1px solid #111827;color:#e5e7eb;white-space:nowrap;">James Anderson</td>
              <td style="padding:10px 12px;border-bottom:1px solid #111827;color:#d1d5db;">Request to create a new user and provide access to.</td>
              <td style="padding:10px 12px;border-bottom:1px solid #111827;">
                <span style="display:inline-block;padding:3px 8px;border-radius:999px;font-size:11px;background:rgba(56,189,248,0.12);color:#38bdf8;">In Progress</span>
              </td>
              <td style="padding:10px 12px;border-bottom:1px solid #111827;">
                <span style="display:inline-block;padding:3px 8px;border-radius:999px;font-size:11px;background:rgba(52,211,153,0.12);color:#6ee7b7;">5 - Planning</span>
              </td>
              <td style="padding:10px 12px;border-bottom:1px solid #111827;color:#e5e7eb;white-space:nowrap;">Mh Hasin</td>
            </tr>
            <tr style="background:#020617;">
              <td style="padding:10px 12px;border-bottom:1px solid #111827;color:#e5e7eb;white-space:nowrap;">INC0010005</td>
              <td style="padding:10px 12px;border-bottom:1px solid #111827;color:#9ca3af;white-space:nowrap;">2026-01-18 23:11:31</td>
              <td style="padding:10px 12px;border-bottom:1px solid #111827;color:#e5e7eb;white-space:nowrap;">James Anderson</td>
              <td style="padding:10px 12px;border-bottom:1px solid #111827;color:#d1d5db;">User reports inability to log in due to expired passwords or locked accounts across Active Directory, email, and VPN, impacting access to essential systems.</td>
              <td style="padding:10px 12px;border-bottom:1px solid #111827;">
                <span style="display:inline-block;padding:3px 8px;border-radius:999px;font-size:11px;background:rgba(56,189,248,0.12);color:#38bdf8;">In Progress</span>
              </td>
              <td style="padding:10px 12px;border-bottom:1px solid #111827;">
                <span style="display:inline-block;padding:3px 8px;border-radius:999px;font-size:11px;background:rgba(248,113,113,0.12);color:#fca5a5;">1 - Critical</span>
              </td>
              <td style="padding:10px 12px;border-bottom:1px solid #111827;color:#e5e7eb;white-space:nowrap;">Mh Hasin</td>
            </tr>
            <tr style="background:#020617;">
              <td style="padding:10px 12px;border-bottom:1px solid #111827;color:#e5e7eb;white-space:nowrap;">INC0010004</td>
              <td style="padding:10px 12px;border-bottom:1px solid #111827;color:#9ca3af;white-space:nowrap;">2026-01-18 22:27:01</td>
              <td style="padding:10px 12px;border-bottom:1px solid #111827;color:#e5e7eb;white-space:nowrap;">James Anderson</td>
              <td style="padding:10px 12px;border-bottom:1px solid #111827;color:#d1d5db;">User reports Bluetooth connection failures preventing pairing with EarPods.</td>
              <td style="padding:10px 12px;border-bottom:1px solid #111827;">
                <span style="display:inline-block;padding:3px 8px;border-radius:999px;font-size:11px;background:rgba(56,189,248,0.12);color:#38bdf8;">In Progress</span>
              </td>
              <td style="padding:10px 12px;border-bottom:1px solid #111827;">
                <span style="display:inline-block;padding:3px 8px;border-radius:999px;font-size:11px;background:rgba(251,191,36,0.12);color:#fbbf24;">2 - High</span>
              </td>
              <td style="padding:10px 12px;border-bottom:1px solid #111827;color:#e5e7eb;white-space:nowrap;">Mh Hasin</td>
            </tr>
          </tbody>
        </table>
      </div>
    </section>
  </div>

  <script>
    // Data (derived from provided JSON)
    const tickets = [
      {state:"In Progress", priority:"1 - Critical"},
      {state:"In Progress", priority:"3 - Moderate"},
      {state:"In Progress", priority:"5 - Planning"},
      {state:"In Progress", priority:"1 - Critical"},
      {state:"In Progress", priority:"2 - High"}
    ];

    // State distribution
    const stateCounts = {};
    tickets.forEach(t => {
      stateCounts[t.state] = (stateCounts[t.state] || 0) + 1;
    });

    // Priority distribution
    const priorityCounts = {};
    tickets.forEach(t => {
      priorityCounts[t.priority] = (priorityCounts[t.priority] || 0) + 1;
    });

    // State Chart
    const stateCtx = document.getElementById('stateChart').getContext('2d');
    new Chart(stateCtx, {
      type: 'pie',
      data: {
        labels: Object.keys(stateCounts),
        datasets: [{
          data: Object.values(stateCounts),
          backgroundColor: ['#38bdf8','#22c55e','#f97316','#e11d48','#a855f7'],
          borderColor: '#020617',
          borderWidth: 2
        }]
      },
      options: {
        responsive: true,
        plugins: {
          legend: {
            position: 'bottom',
            labels: {
              color: '#e5e7eb',
              boxWidth: 16,
              padding: 12
            }
          }
        }
      }
    });

    // Priority Chart
    const priorityCtx = document.getElementById('priorityChart').getContext('2d');
    new Chart(priorityCtx, {
      type: 'bar',
      data: {
        labels: Object.keys(priorityCounts),
        datasets: [{
          label: 'Tickets',
          data: Object.values(priorityCounts),
          backgroundColor: ['#f87171','#fbbf24','#34d399','#38bdf8','#a855f7'],
          borderRadius: 6,
          maxBarThickness: 32
        }]
      },
      options: {
        responsive: true,
        scales: {
          x: {
            ticks: { color: '#9ca3af' },
            grid: { display: false }
          },
          y: {
            ticks: { color: '#9ca3af', stepSize: 1, precision: 0 },
            grid: { color: 'rgba(31,41,55,0.7)' },
            beginAtZero: true
          }
        },
        plugins: {
          legend: { display: false },
          tooltip: {
            callbacks: {
              title: function(tooltipItems) {
                return tooltipItems[0].label;
              },
              label: function(context) {
                return 'Tickets: ' + context.raw;
              }
            }
          }
        }
      }
    });
  </script>
</body>
</html>